<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Property Details - HomeMore</title>
<script src="https://kit.fontawesome.com/f4efa66e1d.js" crossorigin="anonymous"></script>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Anton+SC&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet" />
<style>
  /* Core styles */
  *{margin:0; padding:0; box-sizing:border-box;}
  body{font-family:'Open Sans', sans-serif; background:#f5f5f5; color:#333; line-height:1.6;}
  .wm-dark-skinny{height:4px; background:#115740;}
  .main-header{background:#fff; padding:0 40px; display:flex; justify-content:space-between; align-items:center; box-shadow:0 2px 10px rgba(0,0,0,0.05);}
  .header-left{display:flex; align-items:center; gap:40px;}
  .site-title img{height:120px;}
  .desktop-nav{display:flex; gap:30px;}
  .nav-link{text-decoration:none; color:#333; font-weight:500; transition:color 0.3s;}
  .nav-link:hover, .nav-link.active{color:#115740;}
  .header-right-welcome{display:flex; flex-direction:column; align-items:flex-end;}
  .welcome-text{font-size:0.85rem; color:#666;}
  .user-name{font-weight:600; color:#115740;}
  .breadcrumb{padding:20px 40px; background:#fff; border-bottom:1px solid #e0e0e0;}
  .breadcrumb a{color:#666; text-decoration:none; font-size:0.9rem;}
  .breadcrumb a:hover{color:#115740;}
  .product-container{max-width:1400px; margin:40px auto; padding:0 40px; display:grid; grid-template-columns:1fr 1fr; gap:60px;}
  .image-section{display:flex; flex-direction:column; gap:20px;}
  .main-image{width:100%; height:500px; background:linear-gradient(135deg, #e0e0e0, #f0f0f0); border-radius:12px; display:flex; align-items:center; justify-content:center; overflow:hidden;}
  .main-image i{font-size:5rem; color:#999;}
  .thumbnail-grid{display:grid; grid-template-columns:repeat(4, 1fr); gap:15px;}
  .thumbnail{height:100px; background:linear-gradient(135deg, #e0e0e0, #f0f0f0); border-radius:8px; display:flex; align-items:center; justify-content:center; cursor:pointer; border:2px solid transparent; transition:all 0.3s;}
  .thumbnail:hover, .thumbnail.active{border-color:#115740;}
  .thumbnail i{font-size:2rem; color:#999;}
  .details-section{display:flex; flex-direction:column; gap:25px;}
  .property-category{font-size:0.9rem; color:#666; text-transform:uppercase; letter-spacing:0.5px;}
  .property-title{font-size:2rem; font-weight:700; color:#333;}
  .property-price{font-size:1.8rem; font-weight:700; color:#115740;}
  .spots-left {font-weight:700; margin-top:5px; font-size:1rem;}
  .spots-low {color:#b71c1c;}
  .landlord-name {
    margin-top: 10px;
    font-weight: 600;
    color: #115740;
    cursor: pointer;
    user-select: none;
    text-decoration: underline;
  }
  .selector-section{display:flex; flex-direction:column; gap:15px;}
  .selector-label{font-weight:600; color:#333;}
  .size-options{display:flex; gap:10px; flex-wrap:wrap;}
  .size-btn{padding:12px 24px; border:2px solid #e0e0e0; background:#fff; border-radius:25px; cursor:pointer; font-size:0.95rem; transition:all 0.3s;}
  .size-btn:hover{border-color:#115740;}
  .size-btn.active{background:#115740; color:#fff; border-color:#115740;}
  .action-buttons{display:flex; gap:15px;}
  .add-to-cart-btn{flex:1; padding:16px; background:#115740; color:#fff; border:none; border-radius:30px; font-size:1rem; font-weight:600; cursor:pointer; transition:background 0.3s;}
  .add-to-cart-btn:hover{background:#0d4730;}
  .wishlist-btn{width:55px; height:55px; background:#fff; border:2px solid #e0e0e0; border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; transition:all 0.3s;}
  .wishlist-btn:hover{border-color:#115740; color:#115740;}
  .expandable-section{border:1px solid #e0e0e0; border-radius:8px; background:#fff; overflow:hidden;}
  .section-header{padding:20px; display:flex; justify-content:space-between; align-items:center; cursor:pointer; font-weight:600;}
  .section-header:hover{background:#f9f9f9;}
  .section-content{padding:0 20px 20px; color:#666; line-height:1.8;}
  .amenities-grid{display:grid; grid-template-columns:repeat(2, 1fr); gap:15px; padding:0 20px 20px;}
  .amenity-item{display:flex; align-items:center; gap:10px;}
  .amenity-item i{color:#115740;}
  .rating-overview{background:#fff; padding:30px; border-radius:12px; margin-top:60px;}
  .section-title{font-size:1.5rem; font-weight:700; margin-bottom:30px;}
  .rating-container{display:grid; grid-template-columns:1fr 2fr; gap:40px; margin-bottom:40px;}
  .rating-summary{display:flex; flex-direction:column; align-items:center; justify-content:center;}
  .rating-number{font-size:3.5rem; font-weight:700; color:#333;}
  .rating-denominator{font-size:1.5rem; color:#999;}
  .rating-stars, .review-stars {color:#ffc107; font-size:1.2rem; margin:10px 0;}
  .rating-count{color:#666; font-size:0.9rem;}
  .rating-bars{display:flex; flex-direction:column; gap:12px;}
  .rating-bar{display:flex; align-items:center; gap:15px;}
  .bar-label{display:flex; align-items:center; gap:5px; min-width:40px; font-size:0.9rem;}
  .bar-label i{color:#ffc107; font-size:0.8rem;}
  .bar-track{flex:1; height:8px; background:#e0e0e0; border-radius:4px; overflow:hidden;}
  .bar-fill{height:100%; background:linear-gradient(90deg, #ffc107, #ffb300); border-radius:4px;}
  .bar-count{min-width:30px; text-align:right; color:#666; font-size:0.9rem;}
  .review-card{background:#f9f9f9; padding:25px; border-radius:12px; margin-bottom:30px;}
  .review-header{display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;}
  .reviewer-info{display:flex; align-items:center; gap:12px;}
  .reviewer-avatar{width:45px; height:45px; border-radius:50%; background:#115740; color:#fff; display:flex; align-items:center; justify-content:center; font-weight:600;}
  .reviewer-name{font-weight:600;}
  .review-date{color:#999; font-size:0.9rem;}
  .review-text{color:#666; line-height:1.8; font-style:italic;}
  .recommendations-section{max-width:1400px; margin:60px auto; padding:0 40px;}
  .recommendations-grid{display:grid; grid-template-columns:repeat(4, 1fr); gap:25px; margin-top:30px;}
  .recommendation-card{background:#fff; border-radius:12px; overflow:hidden; box-shadow:0 2px 10px rgba(0,0,0,0.08); transition:transform 0.3s; cursor:pointer;}
  .recommendation-card:hover{transform:translateY(-5px);}
  .rec-image{height:200px; background:linear-gradient(135deg, #e0e0e0, #f0f0f0); display:flex; align-items:center; justify-content:center;}
  .rec-image i{font-size:3rem; color:#999;}
  .rec-details{padding:20px;}
  .rec-title{font-weight:600; margin-bottom:8px; color:#333;}
  .rec-rating{color:#ffc107; font-size:0.9rem; margin-bottom:8px;}
  .rec-price{font-weight:700; color:#115740; font-size:1.1rem;}
  .rec-price-old{color:#999; text-decoration:line-through; font-size:0.9rem; margin-left:8px;}
  .rec-discount{color:#e74c3c; font-size:0.85rem; margin-left:8px;}
  .footer{background:#222; color:#fff; padding:50px 40px 30px; margin-top:80px;}
  .footer-container{max-width:1400px; margin:0 auto;}
  .footer-grid{display:grid; grid-template-columns:2fr 1fr 1fr 1fr; gap:40px; margin-bottom:40px;}
  .footer-section h3{color:#115740; margin-bottom:20px; font-size:1.1rem;}
  .footer-section p{color:#999; line-height:1.8;}
  .footer-section ul{list-style:none;}
  .footer-section ul li{margin-bottom:10px;}
  .footer-section ul li a{color:#999; text-decoration:none; transition:color 0.3s;}
  .footer-section ul li a:hover{color:#fff;}
  .footer-bottom{text-align:center; padding-top:30px; border-top:1px solid #444; color:#666;}
  @media (max-width: 1024px) {
    .product-container{grid-template-columns:1fr;}
    .rating-container{grid-template-columns:1fr;}
    .recommendations-grid{grid-template-columns:repeat(2, 1fr);}
    .footer-grid{grid-template-columns:1fr 1fr;}
  }
  @media (max-width: 768px) {
    .main-header{padding:15px 20px;}
    .desktop-nav{display:none;}
    .product-container, .recommendations-section{padding:0 20px;}
    .recommendations-grid{grid-template-columns:1fr;}
    .footer-grid{grid-template-columns:1fr;}
  }
  /* Modal overlay and box styling */
  .modal-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    z-index: 10000;
    justify-content: center;
    align-items: center;
  }
  .modal-overlay.active {
    display: flex;
  }
  .landlord-modal {
    background: white;
    border-radius: 12px;
    padding: 20px 30px;
    max-width: 400px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: 0 4px 16px rgba(0,0,0,0.25);
    position: relative;
  }
  .modal-header {
    font-weight: 700;
    font-size: 1.4rem;
    margin-bottom: 0.5rem;
  }
  .modal-close {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 1.6rem;
    cursor: pointer;
    color: #555;
    border: none;
    background: transparent;
  }
  .landlord-rating,
  .landlord-likelihood {
    margin: 10px 0;
    font-weight: 600;
  }
  .landlord-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin: 10px 0;
  }
  .landlord-tag {
    background: #115740;
    color: white;
    padding: 4px 10px;
    border-radius: 15px;
    font-size: 0.85rem;
    font-weight: 600;
  }
  .landlord-review {
    margin: 15px 0;
    border-top: 1px solid #ddd;
    padding-top: 10px;
  }
  .landlord-review .review-author {
    font-weight: 600;
  }
  .landlord-review .review-text {
    font-style: italic;
    color: #444;
  }
</style>
</head>
<body>
<div class="wm-dark-skinny"></div>
<header class="main-header">
  <div class="header-left">
    <a href="../index.html" class="site-title"><img src="../img/HomeMore_logo.png" alt="HomeMore Logo" /></a>
    <nav class="desktop-nav">
      <a href="../pages/search.html" class="nav-link">Search</a>
      <a href="../pages/resources.html" class="nav-link">Resources</a>
      <a href="../pages/compare.html" class="nav-link">Comparison</a>
      <a href="../pages/saved.html" class="nav-link active">Saved</a>
      <a href="../pages/#" class="nav-link">Messages</a>
    </nav>
  </div>
  <div class="header-right-welcome">
    <span class="welcome-text">Welcome Back,</span>
    <span class="user-name">John Doe</span>
  </div>
</header>

<div class="breadcrumb">
  <a href="../pages/search.html">← Back</a>
</div>

<div class="product-container">
  <div class="image-section">
    <div class="main-image"><i class="fa-solid fa-home"></i></div>
    <div class="thumbnail-grid"></div>
  </div>

  <div class="details-section">
    <div class="property-category">Off-Campus Housing</div>
    <h1 class="property-title">Loading...</h1>
    <div class="property-price"></div>
    <div class="spots-left"></div>
    <div class="landlord-name"></div>

    <div class="selector-section">
      <div class="selector-label">Select Bedrooms</div>
      <div class="size-options">
        <button class="size-btn">1 BR</button>
        <button class="size-btn">2 BR</button>
        <button class="size-btn">3 BR</button>
        <button class="size-btn">4 BR</button>
        <button class="size-btn">Studio</button>
      </div>
    </div>

    <div class="action-buttons">
      <button class="add-to-cart-btn">Schedule Viewing</button>
      <button class="wishlist-btn"><i class="fa-regular fa-heart"></i></button>
    </div>

    <div class="expandable-section">
      <div class="section-header">
        <span>Description & Details</span>
        <i class="fa-solid fa-chevron-up"></i>
      </div>
      <div class="section-content">Loading description...</div>
    </div>

    <div class="expandable-section">
      <div class="section-header"><span>Amenities</span><i class="fa-solid fa-chevron-up"></i></div>
      <div class="amenities-grid"></div>
    </div>
  </div>
</div>

<div class="product-container" style="grid-column: 1 / -1;">
  <div class="rating-overview">
    <h2 class="section-title">Rating & Reviews</h2>
    <div class="rating-container">
      <div class="rating-summary">
        <div>
          <span class="rating-number"></span><span class="rating-denominator">/5</span>
        </div>
        <div class="rating-stars"></div>
        <div class="rating-count"></div>
      </div>
      <div class="rating-bars"></div>
    </div>
    <div class="reviews-list"></div>
  </div>
</div>

<div class="recommendations-section">
  <h2 class="section-title">You might also like</h2>
  <div class="recommendations-grid"></div>
</div>

<!-- Landlord Modal -->
<div class="modal-overlay" id="landlordModal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="landlordName">
  <div class="landlord-modal" tabindex="-1">
    <button class="modal-close" id="landlordModalClose" aria-label="Close landlord information">&times;</button>
    <div class="modal-header" id="landlordName"></div>
    <div class="landlord-rating"></div>
    <div class="landlord-likelihood"></div>
    <div class="landlord-tags"></div>
    <div class="landlord-reviews"></div>
  </div>
</div>

<script>
  function renderStars(rating) {
    let starsHTML = "";
    for(let i=1; i<=5; i++) {
      if (i <= Math.floor(rating)) starsHTML += '<i class="fa-solid fa-star" aria-hidden="true"></i>';
      else if(i - rating < 1) starsHTML += '<i class="fa-solid fa-star-half-alt" aria-hidden="true"></i>';
      else starsHTML += '<i class="fa-regular fa-star" aria-hidden="true"></i>';
    }
    return starsHTML;
  }

  async function loadListingData() {
    try {
      const response = await fetch('../data/listings.json');
      if(!response.ok) throw new Error('Failed to load listings');
      const listings = await response.json();

      const params = new URLSearchParams(window.location.search);
      const id = parseInt(params.get('id'), 10);
      const currentListing = listings.find(l => l.id === id) || listings[0];

      currentListing.price = currentListing.spotsLeft > 0 ? currentListing.priceBase : currentListing.priceRaised;

      populateListingPage(currentListing);
      populateRatingsAndReviews(currentListing);
      populateRecommendations(listings, currentListing.id);
      setupLandlordPopup(currentListing.landlord);
    } catch(error) {
      console.error(error);
      document.body.innerHTML = '<p>Failed to load listing details.</p>';
    }
  }

  function populateListingPage(listing) {
    document.querySelector('.property-title').textContent = listing.title || 'No title';

    const priceElem = document.querySelector('.property-price');
    priceElem.textContent = `$${listing.price.toLocaleString()} / month`;
    priceElem.style.color = listing.spotsLeft <= 3 ? '#b71c1c' : '#115740';

    const spotsElem = document.querySelector('.spots-left');
    spotsElem.textContent = `${listing.spotsLeft} spots left`;
    spotsElem.classList.toggle('spots-low', listing.spotsLeft <= 3);

    document.querySelector('.property-category').textContent = 'Off-Campus Housing';

    const mainImage = document.querySelector('.main-image');
    mainImage.innerHTML = '';
    if(listing.image) {
      const img = document.createElement('img');
      img.src = listing.image;
      img.alt = listing.title;
      img.style.width = '100%';
      img.style.height = '100%';
      img.style.objectFit = 'cover';
      img.style.borderRadius = '12px';
      mainImage.appendChild(img);
    } else {
      mainImage.innerHTML = '<i class="fa-solid fa-home"></i>';
    }

    document.querySelector('.section-content').textContent = listing.description || "Beautifully renovated apartment just steps from campus with modern appliances and ample natural light.";

    const amenitiesGrid = document.querySelector('.amenities-grid');
    if(listing.amenities && listing.amenities.length){
      amenitiesGrid.innerHTML = listing.amenities.map(a=>`<div class="amenity-item"><i class="fa-solid fa-check-circle"></i><span>${a}</span></div>`).join('');
    } else {
      amenitiesGrid.innerHTML = '<p>No amenities listed.</p>';
    }

    document.querySelectorAll('.size-btn').forEach(btn => btn.classList.remove('active'));
    const matched = Array.from(document.querySelectorAll('.size-btn')).find(btn => btn.textContent.includes(listing.bedrooms.toString()));
    if(matched) matched.classList.add('active');

    const landlordElem = document.querySelector('.landlord-name');
    if(listing.landlord && listing.landlord.name){
      landlordElem.textContent = `Landlord: ${listing.landlord.name}`;
      landlordElem.onclick = () => showLandlordModal(listing.landlord);
    } else {
      landlordElem.textContent = '';
      landlordElem.onclick = null;
    }

    // Wishlist button setup
    const wishlistBtn = document.querySelector('.wishlist-btn');
    const isSaved = isListingSaved(listing.id);
    updateHeartButton(isSaved);

    wishlistBtn.onclick = () => {
      const listingToSave = {
        id: listing.id,
        title: listing.title,
        price: listing.price,
        bedrooms: listing.bedrooms,
        bathrooms: listing.bathrooms || 2,
        rating: listing.rating,
        image: listing.image
      };
      toggleSave(listingToSave);
    };
  }

  function populateRatingsAndReviews(listing) {
    document.querySelector('.rating-number').textContent = listing.rating.toFixed(1);
    document.querySelector('.rating-stars').innerHTML = renderStars(listing.rating);
    document.querySelector('.rating-count').textContent = `(${listing.reviewCount} Reviews)`;

    const ratingBarsContainer = document.querySelector('.rating-bars');
    ratingBarsContainer.innerHTML = '';
    const bars = [
      {stars: 5, percentage: 70},
      {stars: 4, percentage: 20},
      {stars: 3, percentage: 5},
      {stars: 2, percentage: 3},
      {stars: 1, percentage: 2}
    ];
    bars.forEach(bar => {
      const barElem = document.createElement('div');
      barElem.classList.add('rating-bar');
      barElem.innerHTML = `
        <div class="bar-label"><i class="fa-solid fa-star"></i><span>${bar.stars}</span></div>
        <div class="bar-track"><div class="bar-fill" style="width:${bar.percentage}%"></div></div>
        <div class="bar-count">•</div>
      `;
      ratingBarsContainer.appendChild(barElem);
    });

    const reviewsContainer = document.querySelector('.reviews-list');
    reviewsContainer.innerHTML = '';
    listing.reviews.forEach(review => {
      const reviewCard = document.createElement('div');
      reviewCard.className = 'review-card';
      reviewCard.innerHTML = `
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">${review.avatar}</div>
            <div><div class="reviewer-name">${review.author}</div></div>
          </div>
          <div class="review-date">${review.date || ''}</div>
        </div>
        <div class="review-stars">${renderStars(review.rating)}</div>
        <p class="review-text">"${review.text}"</p>
      `;
      reviewsContainer.appendChild(reviewCard);
    });
  }

  function populateRecommendations(listings, excludeId) {
    const container = document.querySelector('.recommendations-grid');
    container.innerHTML = '';
    const filtered = listings.filter(l => l.id !== excludeId);
    for (let i = filtered.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [filtered[i], filtered[j]] = [filtered[j], filtered[i]];
    }
    filtered.slice(0, 4).forEach(listing => {
      const card = document.createElement('div');
      card.className = 'recommendation-card';
      card.innerHTML = `
        <a href="listing.html?id=${listing.id}" style="color:inherit; text-decoration:none;">
          <div class="rec-image">${listing.image ? `<img src="${listing.image}" alt="${listing.title}" style="width:100%;height:150px;object-fit:cover;border-radius:12px;">` : '<i class="fa-solid fa-home" style="font-size:3rem;color:#999;"></i>'}</div>
          <div class="rec-details">
            <div class="rec-title">${listing.title}</div>
            <div class="rec-rating">${renderStars(listing.rating)} <span>${listing.rating.toFixed(1)}/5</span></div>
            <div><span class="rec-price">$${listing.price.toLocaleString()}</span></div>
          </div>
        </a>
      `;
      container.appendChild(card);
    });
  }

  const landlordModal = document.getElementById('landlordModal');
  const landlordModalClose = document.getElementById('landlordModalClose');
  const landlordNameElem = document.getElementById('landlordName');
  const landlordRatingElem = document.querySelector('.landlord-rating');
  const landlordLikelihoodElem = document.querySelector('.landlord-likelihood');
  const landlordTagsElem = document.querySelector('.landlord-tags');
  const landlordReviewsElem = document.querySelector('.landlord-reviews');

  landlordModalClose.addEventListener('click', () => landlordModal.classList.remove('active'));
  landlordModal.addEventListener('click', e => { if (e.target === landlordModal) landlordModal.classList.remove('active'); });

  function showLandlordModal(landlord) {
    landlordNameElem.textContent = landlord.name;
    landlordRatingElem.innerHTML = `<strong>Rating:</strong> ${landlord.rating.toFixed(1)} / 5 ${renderStars(landlord.rating)}`;
    landlordLikelihoodElem.innerHTML = `<strong>Likely to room again:</strong> ${landlord.likelihood}%`;
    landlordTagsElem.innerHTML = '<strong>Top Tags: </strong>' + landlord.tags.map(t => `<span class="landlord-tag">${t}</span>`).join(' ');

    landlordReviewsElem.innerHTML = '';
    landlord.reviews.slice(0, 2).forEach(r => {
      const div = document.createElement('div');
      div.className = 'landlord-review';
      div.innerHTML = `
        <div class="review-author">${r.author}</div>
        <div class="review-stars">${renderStars(r.rating)}</div>
        <p class="review-text">${r.text}</p>
      `;
      landlordReviewsElem.appendChild(div);
    });

    landlordModal.classList.add('active');
  }

  function setupLandlordPopup(landlord) {
    const landlordElem = document.querySelector('.landlord-name');
    if (landlord && landlord.name) {
      landlordElem.style.display = 'block';
      landlordElem.textContent = `Landlord: ${landlord.name}`;
      landlordElem.onclick = () => showLandlordModal(landlord);
    } else {
      landlordElem.style.display = 'none';
      landlordElem.onclick = null;
    }
  }

  // Wishlist management
  function isListingSaved(id) {
    const saved = localStorage.getItem('savedListings');
    if (!saved) return false;
    const savedListings = JSON.parse(saved);
    return savedListings.some(item => item.id === id);
  }

  function toggleSave(listing) {
    const saved = localStorage.getItem('savedListings');
    const savedListings = saved ? JSON.parse(saved) : [];

    const index = savedListings.findIndex(item => item.id === listing.id);

    if (index > -1) {
      savedListings.splice(index, 1);
      localStorage.setItem('savedListings', JSON.stringify(savedListings));
      updateHeartButton(false);
      showNotification('Removed from saved listings');
    } else {
      savedListings.push(listing);
      localStorage.setItem('savedListings', JSON.stringify(savedListings));
      updateHeartButton(true);
      showNotification('Added to saved listings');
    }
  }

  function updateHeartButton(isSaved) {
    const heartBtn = document.querySelector('.wishlist-btn i');
    if (!heartBtn) return;
    if (isSaved) {
      heartBtn.className = 'fa-solid fa-heart';
      heartBtn.style.color = '#b71c1c';
    } else {
      heartBtn.className = 'fa-regular fa-heart';
      heartBtn.style.color = '';
    }
  }

  function showNotification(message) {
    const notification = document.createElement('div');
    notification.textContent = message;
    notification.style.cssText = `
      position: fixed;
      top: 100px;
      right: 20px;
      background: #004E38;
      color: white;
      padding: 15px 25px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      z-index: 10000;
      animation: slideIn 0.3s ease;
    `;
    document.body.appendChild(notification);
    setTimeout(() => {
      notification.style.animation = 'slideOut 0.3s ease';
      setTimeout(() => notification.remove(), 300);
    }, 3000);
  }

  // Notification animations CSS
  const style = document.createElement('style');
  style.textContent = `
    @keyframes slideIn {
      from { transform: translateX(400px); opacity: 0;}
      to { transform: translateX(0); opacity: 1;}
    }
    @keyframes slideOut {
      from { transform: translateX(0); opacity: 1;}
      to { transform: translateX(400px); opacity: 0;}
    }
  `;
  document.head.appendChild(style);

  loadListingData();
</script>
</body>
</html>
